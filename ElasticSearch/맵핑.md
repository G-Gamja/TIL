# 맵핑(mapping)

엘라스틱서치에서의 "매핑(Mapping)"은 인덱스에 저장된 문서의 구조와 데이터 타입을 정의하는 과정을 의미합니다. 각 문서의 필드에 대한 데이터 타입, 검색 가능한 옵션, 분석 방법 등을 매핑을 통해 지정할 수 있습니다. 즉, 매핑은 데이터의 스키마(Schema)를 정의하는 것으로 이해할 수 있습니다.

### 매핑의 주요 구성 요소:

1. **필드 타입(Field Type):**

   - 각 필드에는 특정한 데이터 타입이 지정됩니다. 예를 들어, 텍스트, 숫자, 날짜 등이 있습니다.

2. **인덱싱(Indexing):**

   - 필드가 색인되어 검색 가능한지 여부를 설정합니다. 색인되면 해당 필드를 검색 쿼리에서 활용할 수 있습니다.

3. **분석기(Analyzer):**

   - 텍스트 데이터에 대한 검색을 위해 사용되는 토큰 분석 방법을 설정합니다. 이를 통해 문서의 텍스트를 색인할 때 어떻게 단어로 분리하고 어떤 처리를 할지 지정할 수 있습니다.

4. **프로퍼티 설정(Properties):**
   - 매핑은 문서의 각 필드에 대한 속성을 정의합니다. 예를 들어, 필드의 형식, 색인 여부, 검색 가능 여부 등이 포함됩니다.

### 예시:

다음은 엘라스틱서치에서의 매핑 예시입니다. 우선 간단한 색인을 생성하고 매핑을 정의하는 예시입니다.

```json
PUT /my_index
{
  "mappings": {
    "properties": {
      "title": {
        "type": "text",
        "index": true,
        "analyzer": "standard"
      },
      "date_published": {
        "type": "date"
      },
      "author": {
        "type": "keyword"
      },
      "content": {
        "type": "text",
        "index": true,
        "analyzer": "english"
      }
    }
  }
}
```

이 예시에서:

- "title" 필드는 텍스트 데이터로, 색인되고 기본 분석기를 사용합니다.
- "date_published" 필드는 날짜 형식으로 정의되었습니다.
- "author" 필드는 키워드로, 정렬이나 집계와 같은 목적으로 사용될 수 있습니다.
- "content" 필드는 텍스트 데이터로, 색인되고 "english" 분석기를 사용하여 처리됩니다.

이러한 매핑은 엘라스틱서치가 문서를 색인할 때 해당 필드의 데이터 타입과 특성을 이해하고 적절한 검색 및 집계 작업을 수행할 수 있도록 돕습니다.
