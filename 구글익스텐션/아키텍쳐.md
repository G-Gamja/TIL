참고: https://velog.io/@goban/%EA%B5%AC%EA%B8%80-%ED%99%95%EC%9E%A5%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%A8-%EA%B0%9C%EB%B0%9C-1-%EA%B8%B0%EB%B3%B8%EA%B5%AC%EC%A1%B0  

![이벤트버블링](/images/extension-tree.png)
* manifest
* Background script
* UI Elements
* Content script
* Options page

## Background script & Service Worker
Background script는 extension에서 구성되어 있는 이벤트 핸들러이다.
extension에 필요한 브라우저 이벤트리스너가 포함되어 있으며, 이벤트가 발생할 때까지는 background script는 유휴 상태에서 로직을 수행한다. 이러한 Background script는 필요할때만 로드되며, 유휴상태로 전환되면 언로드되는 형식을 가지고 있다.

manifest에서 Background script로 동작할 js파일을 설정할 수 있다.

## Content script

브라우저내의 웹페이지를 제어하는 영역이다. Content script에는 브라우저에 로딩된 페이지의 context에서 실행될 수 있는 Javascript를 삽입할 수 있다. 이러한 Content script는 방문한 웹페이지의 DOM을 제어할 수도 있으며, 수정 및 쓰기가 가능하다.

컨텐츠 스크립트는 Storage API를 사용하여 메세지를 교환하고 값을 저장하여 상위의 extension과 통신 가능하다.