

# 러버밴드(Rubber-Band) 스크롤 현상 완전 정리

웹이나 모바일 UI를 사용하다 보면, 화면을 끝까지 스크롤한 뒤 손가락(또는 마우스 휠)을 더 움직이면
화면이 **쭉 늘어나는 것처럼 보였다가 다시 제자리로 튀는 현상**이 나타난다.
이 동작을 흔히 **러버밴드 효과(rubber-band effect)** 또는 **오버스크롤(overscroll)**이라고 부른다.

---

## 🧩 러버밴드 효과가 뭐지?

러버밴드 효과는 브라우저나 OS가 **사용자에게 “여기 더 이상 스크롤할 내용이 없어”** 라고 알려주는 방식이다.

특징:

* 스크롤 최상단/최하단에서만 발생
* 스크롤을 더 시도하면 화면이 **늘어나거나 흔들리며 반발**
* 일반적으로 iOS / macOS / Firefox 등에서 직관적인 피드백으로 사용됨
* 스크롤 가능한 요소가 부모 요소로 **chain(체이닝)** 되어 전파될 수 있음

즉, UI 상으로는 고무줄처럼 **늘어났다 돌아오므로 rubber-band**라고 부른다.

---

## 🖥️ 어떤 브라우저/OS에서 발생할까?

| 플랫폼                     | 러버밴드 발생   | 비고               |
| ----------------------- | --------- | ---------------- |
| iOS Safari              | **발생**    | 가장 대표적인 환경       |
| macOS Safari/Firefox    | **발생**    | 자연스러운 스크롤 정책 적용  |
| Firefox (Windows/Linux) | **발생**    | overscroll 기본 허용 |
| Chrome (Windows/Linux)  | **거의 없음** | 기본 overscroll 방지 |
| Chrome (macOS)          | **발생**    | macOS 정책을 따름     |
| 모바일 앱(WebView)          | 환경에 따라 다름 | iOS WebView는 발생  |

그래서 같은 코드라도 **크롬에서는 조용한데 파이어폭스/사파리에서는 화면이 출렁—**해질 수 있다.

---

## ⚠️ 문제는 왜 생길까?

러버밴드 자체는 자연스러운 UX이지만, 특정 UI에서는 문제가 된다:

* 팝업/모달 같은 고정 크기 UI가 **늘어났다** 다시 튀기
* 스크롤 가능한 영역이 부모로 전파되어 **전체 레이아웃이 흔들림**
* 브라우저 익스텐션 팝업처럼 **뷰포트 자체가 리사이즈됨**
* “스크롤 끝 → 넘기기 제스처”가 구현되어 있어 오작동 가능성

특히 **Firefox Extension Popup**에서는 심각해진다.
팝업 크기를 *컨텐츠 크기로 자동 조정*하기 때문에, 러버밴드가 발생하면
**팝업 전체의 높이/폭이 튀었다가 돌아오는 현상**이 발생한다.

---

## 🧰 해결 방법: `overscroll-behavior`

CSS 표준 속성 **`overscroll-behavior`**로 러버밴드와 스크롤 체이닝을 제어할 수 있다.

### 기본 문법

```css
overscroll-behavior: auto | contain | none;
```

### 의미

| 값         | 의미                            |
| --------- | ----------------------------- |
| `auto`    | 기본 동작 유지 → 러버밴드 발생            |
| `contain` | 오버스크롤이 부모로 전파되지 않음 (chain 방지) |
| `none`    | 러버밴드/반발/체이닝 모두 금지             |

### 예제

#### 1) 러버밴드 완전 차단

```css
html, body {
  overscroll-behavior: none;
}
```

#### 2) 내부 스크롤러만 안전하게 제어

```css
.scroll-area {
  overflow-y: auto;
  overscroll-behavior-y: contain;
}
```

---

## 🧪 Firefox Extension Popup에서의 권장 조합

파이어폭스 팝업은 DOM 크기 변화를 팝업 창 크기로 반영하므로,
러버밴드가 생기면 창 전체가 매 프레임 흔들리는 문제가 있다.

아래 조합이 가장 안정적이다:

```css
html, body {
  width: 36rem;            /* 팝업 고정폭 */
  max-width: 36rem;
  overflow: hidden;        /* 문서 자체 스크롤 차단 */
  overscroll-behavior: none;
}

[data-scroll="y"] {
  overflow-y: auto;        /* 실 스크롤 영역 */
  overscroll-behavior-y: contain;
  scrollbar-width: none;
}
```

---

## 🧭 요약

* 러버밴드는 스크롤 끝에서 화면이 **늘어났다 당겨지는 효과**
* UX상 자연스럽지만, 일부 UI(팝업/모달/확장 프로그램)에서는 문제
* **CSS `overscroll-behavior`**로 완전 차단 또는 체이닝 방지 가능
* 파이어폭스 팝업은 DOM 크기로 오류가 확대되므로 **필수적으로 제어해야 함**

---

## 📌 결론

러버밴드 효과는 웹/모바일 환경에서 “더 이상 스크롤할 곳이 없다”는 신호지만,
특정 UI에서는 치명적인 레이아웃 문제를 만든다.
브라우저 확장 팝업처럼 크기가 자동으로 재계산되는 환경이라면
스크롤 체이닝과 러버밴드를 **적절히 차단하는 것이 안정적인 UI 구현의 핵심**이다.

---
